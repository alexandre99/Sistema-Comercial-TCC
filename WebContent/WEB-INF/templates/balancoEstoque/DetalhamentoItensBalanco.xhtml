<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<p:dialog id="detalhamentoBalancoEstoque"
		widgetVar="dialogDetalhamentoBalanco" closable="true"
		closeOnEscape="true" header="Detalhamento de balanço de estoque"
		resizable="false" responsive="true" hideEffect="fade"
		showEffect="fade" modal="true" width="800px" draggable="false">

		<div class="ui-fluid">

			<p:panelGrid id="panelFiltroDetalhamentoBalancoEstoque" columns="6"
				layout="grid"
				columnClasses="ui-grid-col-2, ui-grid-col-2, ui-grid-col-2, ui-grid-col-2, ui-grid-col-2, ui-grid-col-2"
				styleClass="panelgrid-noborder" style="margin-top:20px;">

				<p:outputLabel value="Código do Balanço" />
				<p:outputLabel
					value="#{pesquisaBalancoEstoqueController.balancoEstoqueSelecionado.id}" />

				<p:outputLabel value="Data do Balanço de Estoque" />
				<p:outputLabel
					value="#{pesquisaBalancoEstoqueController.balancoEstoqueSelecionado.dataHora}">
					<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" timeZone="America/Sao_Paulo" />
				</p:outputLabel>

				<p:outputLabel value="Status" />
				<p:outputLabel
					value="#{pesquisaBalancoEstoqueController.balancoEstoqueSelecionado.ativo ? 'Ativo' : 'Inativo'}" />

			</p:panelGrid>
		</div>

		<p:dataTable id="tableDetalhamentoBalancoEstoque"
			value="#{pesquisaBalancoEstoqueController.listaItensBalanco}"
			var="itensBalanco" paginatorPosition="bottom"
			paginatorAlwaysVisible="false" paginator="true" rows="5">

			<p:column headerText="Referência">
				<h:outputText value="#{itensBalanco.produto.codigoBarras}" />
			</p:column>

			<p:column headerText="Descrição">
				<h:outputText value="#{itensBalanco.produto.descricao}" />
			</p:column>

			<p:column headerText="Vol. Anterior">
				<h:outputText value="#{itensBalanco.volumeAnterior}">
					<f:convertNumber maxFractionDigits="2" />
				</h:outputText>
			</p:column>

			<p:column headerText="Vol. Ajuste">
				<h:outputText value="#{itensBalanco.volumeAjuste}"
					style="#{itensBalanco.tipoBalanco eq 1 ? 'color: blue' : 'color: red'}">
					<f:convertNumber maxFractionDigits="2" />
				</h:outputText>
			</p:column>

			<p:column headerText="Vol. Ajustado">
				<h:outputText value="#{itensBalanco.volumeAjustado}">
					<f:convertNumber maxFractionDigits="2" />
				</h:outputText>
			</p:column>
		</p:dataTable>

	</p:dialog>

</ui:composition>